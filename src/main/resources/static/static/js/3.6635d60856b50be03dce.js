webpackJsonp([3],{"+L4n":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),r=a("P9l9"),n=a("YaEn"),c=a("14gb"),o={name:"user",data:function(){return{userName:sessionStorage.getItem("userName"),userAddress:"",privateKeyList:[],radio:null}},mounted:function(){this.getPrivateKeys()},methods:{getPrivateKeys:function(){var e=this,t={userName:sessionStorage.getItem("userName")};Object(r.v)(t).then(function(t){200==t.status&&(0===t.data.length?("admin"===sessionStorage.getItem("userName")&&e.privateKeyList.unshift({address:"0xf1585b8d0e08a0a00fff662e24d67ba95a438256",createTime:"2020-05-05 16:32:14",privateKey:"3bed914595c159cbce70ec5fb6aff3d6797e0c5ee5a7a9224a21cae8932d84a4",publicKey:"0xc5d877bff9923af55f248fb48b8907dc7d00cac3ba19b4259aebefe325510af7bd0a75e9a8e8234aa7aa58bc70510ee4bef02201a86006196da4e771c47b71b4",type:"default",userName:"admin"}),e.radio=e.privateKeyList[0].address,localStorage.setItem("userAddress",e.radio)):t.data.length?(e.privateKeyList=t.data,"admin"===sessionStorage.getItem("userName")&&e.privateKeyList.unshift({address:"0xf1585b8d0e08a0a00fff662e24d67ba95a438256",createTime:"2020-05-05 16:32:14",privateKey:"3bed914595c159cbce70ec5fb6aff3d6797e0c5ee5a7a9224a21cae8932d84a4",publicKey:"0xc5d877bff9923af55f248fb48b8907dc7d00cac3ba19b4259aebefe325510af7bd0a75e9a8e8234aa7aa58bc70510ee4bef02201a86006196da4e771c47b71b4",type:"default",userName:"admin"}),localStorage.getItem("userAddress")?e.radio=localStorage.getItem("userAddress"):(e.radio=e.privateKeyList[0].address,localStorage.setItem("userAddress",e.radio))):e.$notify({type:"warning",message:t.data.message}))}).catch(function(t){e.$notify({type:"danger",message:"系统错误"})})},changeUser:function(){n.a.push("/changeUser")},addUser:function(){var e=this;Object(r.t)({useAes:!1,type:0,userName:sessionStorage.getItem("userName")}).then(function(t){t.data;200===t.status?(e.getPrivateKeys(),e.$notify({type:"success",message:"创建私钥成功"})):e.$notify({type:"danger",message:"创建私钥失败"})}).catch(function(t){e.$notify({type:"danger",message:"系统失败"})})},queryImportPrivateKey:function(){var e=this;Object(r.t)({privateKey:value,userName:sessionStorage.getItem("userName")}).then(function(t){t.data;200===t.status?(e.getPrivateKeys(),e.$notify({type:"success",message:"创建私钥成功"})):e.$notify({type:"danger",message:"创建私钥失败"})}).catch(function(t){e.$notify({type:"danger",message:"系统失败"})})},selectAddress:function(){localStorage.setItem("userAddress",this.radio),this.$emit("changeUser")},logout:function(){var e=this;Object(r.s)().then(function(t){200!==t.status?e.$notify({type:"danger",message:"失败"}):n.a.push("/login")}).catch(function(t){e.$notify({type:"danger",message:"失败"})})},importKey:function(){n.a.push("/importPrivateKey")},exportKey:function(e){sessionStorage.setItem("exportPrivateKey",i()(e)),n.a.push({name:"exportPrivateKey"})},queryDeletePrivateKey:function(){var e=this;this.$dialog.confirm({message:"确认删除？"}).then(function(){Object(r.c)(e.radio).then(function(t){e.getPrivateKeys(),c.a.$emit("deletePrivateKeySuccess",!0)})}).catch(function(){})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module"},[a("div",{staticClass:"user-content"},[e._m(0),a("br"),e._v(" "),a("span",{staticClass:"user-name"},[e._v(e._s(e.userName))])]),e._v(" "),a("div",{staticClass:"user-list"},e._l(e.privateKeyList,function(t){return a("van-radio-group",{key:t.address,on:{change:e.selectAddress},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("van-radio",{staticClass:"list-item",attrs:{name:t.address,shape:"square"}},["default"===t.type?a("span",{staticStyle:{"font-size":"10px"}},[e._v("系统私钥")]):e._e(),e._v(" "),a("span",{on:{click:function(a){return a.stopPropagation(),e.exportKey(t)}}},[e._v(e._s(t.address))])])],1)}),1),e._v(" "),a("div",{staticClass:"cross-bottom"},[a("van-button",{staticStyle:{width:"50%"},attrs:{type:"default"},on:{click:e.addUser}},[e._v("创建私钥")]),e._v(" "),a("van-button",{staticStyle:{width:"50%"},attrs:{type:"default"},on:{click:e.importKey}},[e._v("导入私钥")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"user-card"},[t("i",{staticClass:"wbs-icon-user",staticStyle:{color:"#999","font-size":"48px"}})])}]};var u=a("VU/8")(o,d,!1,function(e){a("HWON")},"data-v-3302c6a4",null);t.default=u.exports},"14gb":function(e,t,a){"use strict";var s=new(a("7+uW").a);t.a=s},HWON:function(e,t){}});