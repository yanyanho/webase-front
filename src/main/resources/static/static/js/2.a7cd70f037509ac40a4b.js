webpackJsonp([2],{"+L4n":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),r=s.n(a),i=s("P9l9"),n=s("YaEn"),o=s("14gb"),c={name:"user",data:function(){return{userName:sessionStorage.getItem("userName"),userAddress:"",privateKeyList:[],radio:null}},mounted:function(){this.getPrivateKeys()},methods:{getPrivateKeys:function(){var e=this,t={userName:sessionStorage.getItem("userName")};Object(i.v)(t).then(function(t){200==t.status&&(t.data.length?(e.privateKeyList=t.data,"admin"===sessionStorage.getItem("userName")&&e.privateKeyList.unshift({address:"0xf1585b8d0e08a0a00fff662e24d67ba95a438256",createTime:"2020-05-05 16:32:14",privateKey:"3bed914595c159cbce70ec5fb6aff3d6797e0c5ee5a7a9224a21cae8932d84a4",publicKey:"0xc5d877bff9923af55f248fb48b8907dc7d00cac3ba19b4259aebefe325510af7bd0a75e9a8e8234aa7aa58bc70510ee4bef02201a86006196da4e771c47b71b4",type:"default",userName:"admin"}),localStorage.getItem("userAddress")?(console.log(localStorage.getItem("userAddress")),e.radio=localStorage.getItem("userAddress")):(e.radio=e.privateKeyList[0].address,localStorage.setItem("userAddress",e.radio))):e.$notify({type:"warning",message:t.data.message}))}).catch(function(t){e.$notify({type:"danger",message:"系统错误"})})},changeUser:function(){n.a.push("/changeUser")},addUser:function(){var e=this;Object(i.t)({useAes:!1,type:0,userName:sessionStorage.getItem("userName")}).then(function(t){t.data;200===t.status?(e.getPrivateKeys(),e.$notify({type:"success",message:"创建私钥成功"})):e.$notify({type:"error",message:"创建私钥失败"})}).catch(function(t){e.$notify({type:"error",message:"系统失败"})})},queryImportPrivateKey:function(){var e=this;Object(i.t)({privateKey:value,userName:sessionStorage.getItem("userName")}).then(function(t){t.data;200===t.status?(e.getPrivateKeys(),e.$notify({type:"success",message:"创建私钥成功"})):e.$notify({type:"error",message:"创建私钥失败"})}).catch(function(t){e.$notify({type:"error",message:"系统失败"})})},selectAddress:function(){localStorage.setItem("userAddress",this.radio),this.$emit("changeUser")},logout:function(){Object(i.s)().then(function(e){console.log(e),n.a.push("/login")}).catch(function(e){})},importKey:function(){n.a.push("/importPrivateKey")},exportKey:function(){var e=this,t={};this.privateKeyList.forEach(function(s){s.address===e.radio&&(t=s)}),sessionStorage.setItem("exportPrivateKey",r()(t)),n.a.push({name:"exportPrivateKey"})},queryDeletePrivateKey:function(){var e=this;this.$dialog.confirm({message:"确认删除？"}).then(function(){Object(i.c)(e.radio).then(function(t){e.getPrivateKeys(),o.a.$emit("deletePrivateKeySuccess",!0)})}).catch(function(){})}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module"},[s("div",{staticClass:"user-content"},[e._m(0),s("br"),e._v(" "),s("span",{staticClass:"user-name"},[e._v(e._s(e.userName))])]),e._v(" "),s("div",{staticClass:"user-list"},e._l(e.privateKeyList,function(t){return s("van-radio-group",{key:t.address,on:{change:e.selectAddress},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[s("van-radio",{staticClass:"list-item",attrs:{name:t.address,shape:"square"}},["default"===t.type?s("span",{staticStyle:{"font-size":"10px"}},[e._v("系统私钥")]):e._e(),e._v(" "),s("span",[e._v(e._s(t.address))])])],1)}),1),e._v(" "),s("div",{staticClass:"cross-bottom"},[s("van-button",{staticStyle:{width:"100%"},attrs:{type:"default"},on:{click:e.addUser}},[e._v("创建私钥")]),e._v(" "),s("van-button",{staticStyle:{width:"50%"},attrs:{type:"default"},on:{click:e.importKey}},[e._v("导入私钥")]),e._v(" "),s("van-button",{staticStyle:{width:"50%"},attrs:{type:"default"},on:{click:e.exportKey}},[e._v("查看私钥")]),e._v(" "),s("van-button",{staticStyle:{width:"100%"},attrs:{type:"default"},on:{click:e.logout}},[e._v("退出登录")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"user-card"},[t("i",{staticClass:"wbs-icon-user",staticStyle:{color:"#999","font-size":"48px"}})])}]};var d=s("VU/8")(c,u,!1,function(e){s("SoZh")},"data-v-222dce1e",null);t.default=d.exports},"14gb":function(e,t,s){"use strict";var a=new(s("7+uW").a);t.a=a},SoZh:function(e,t){}});