webpackJsonp([6],{"12H5":function(s,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("YaEn"),t=r("P9l9"),n={name:"register",data:function(){return{user:"",password:"",passwordTwo:"",errorMessage1:"",errorMessage2:"",errorMessage3:"",logining:!1}},methods:{change1:function(){/^[a-zA-Z][a-zA-Z0-9_]{2,15}$/.test(this.user)?this.errorMessage1="":this.errorMessage1="字母开头，允许3-16字节，允许字母数字下划线"},change2:function(){/^[a-zA-Z]\w{5,17}$/.test(this.password)?this.errorMessage2="":this.errorMessage2="以字母开头，长度在6~18之间，只能包含字母、数字和下划线"},change3:function(){this.passwordTwo==this.password?this.errorMessage3="":this.errorMessage3="确认密码必须和密码一致"},submit:function(){this.errorMessage3||this.errorMessage2||this.errorMessage||this.registerUser()},registerUser:function(){var s=this,e={username:this.user,password:this.password};Object(t.y)(e).then(function(e){s.logining=!1,200==e.status?(s.$notify({type:"success",message:"注册成功！"}),setTimeout(function(){s.loginUser()},500)):(s.$notify({type:"warning",message:e.data.message}),s.password="",s.passwordTo="")}).catch(function(e){s.$notify({type:"warning",message:"注册失败！"}),s.logining=!1,s.password="",s.passwordTo=""})},loginUser:function(){var s=this,e={account:this.user,accountPwd:this.password};Object(t.r)(e).then(function(e){200===e.status?(s.logining=!1,a.a.push("/main"),sessionStorage.setItem("userName",e.data.username)):(s.password="",s.logining=!1)}).catch(function(e){s.password="",s.logining=!1})},arrow:function(){a.a.push("/login")}}},o={render:function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("div",{staticClass:"module"},[r("div",{staticClass:"register"},[r("van-icon",{attrs:{name:"arrow-left"},on:{click:s.arrow}}),s._v(" "),r("p",{staticClass:"register-title"},[s._v("\n        注册\n      ")]),s._v(" "),r("div",[r("van-field",{attrs:{label:"用户","error-message":s.errorMessage1},on:{blur:s.change1},model:{value:s.user,callback:function(e){s.user=e},expression:"user"}}),s._v(" "),r("van-field",{attrs:{type:"password",label:"密码","error-message":s.errorMessage2},on:{blur:s.change2},model:{value:s.password,callback:function(e){s.password=e},expression:"password"}}),s._v(" "),r("van-field",{attrs:{type:"password",label:"确认密码","error-message":s.errorMessage3},on:{blur:s.change3},model:{value:s.passwordTwo,callback:function(e){s.passwordTwo=e},expression:"passwordTwo"}}),s._v(" "),r("van-button",{staticClass:"register-button",attrs:{plain:"",hairline:"",type:"primary"},on:{loading:s.logining,click:s.submit}},[s._v("注册")])],1)],1)])},staticRenderFns:[]};var i=r("VU/8")(n,o,!1,function(s){r("otIw")},"data-v-d3883200",null);e.default=i.exports},otIw:function(s,e){}});